<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Raw Data â€“ {{ file_name|default:"BOX SCORE.xlsx" }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js (unchanged) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    body { font-family: 'Poppins', sans-serif; }
    .glow { box-shadow: 0 0 20px rgba(20,184,166,0.15); }

    .table-scroll {
      max-height: 80vh;
      overflow-y: auto;
      overflow-x: auto;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
    }

    table { min-width: 1300px; }

    thead th {
      position: sticky;
      top: 0;
      background: #0d9488;
      color: white;
      z-index: 10;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-gray-50 via-teal-50 to-white min-h-screen">

<!-- ================= DASHBOARD STYLE NAVBAR (SAME AS DASHBOARD MOBILE) ================= -->
<nav class="bg-gradient-to-r from-teal-600 to-teal-700 text-white shadow-lg">
  <div class="container mx-auto px-6 py-4 flex items-center gap-4 overflow-x-auto">

    <!-- Title -->
    <a href="{% url 'home' %}"
       class="text-sm sm:text-base md:text-2xl font-bold whitespace-nowrap flex-shrink-0">
      Predictive Failure Analysis Using AI
    </a>

    <!-- Menu (always visible, no hamburger) -->
    <div class="flex gap-2 sm:gap-3 md:gap-6
            text-[10px] sm:text-xs md:text-sm
            items-center">
      <a href="{% url 'dashboard' %}" class="hover:underline">Dashboard</a>
      <a href="{% url 'upload_file' %}" class="hover:underline">Upload</a>
      <a href="{% url 'raw_data' %}" class="font-bold underline text-yellow-300">Raw Data</a>
      <a href="{% url 'algorithms' %}" class="hover:underline">Algorithms</a>
      <a href="{% url 'profit_analysis' %}" class="hover:underline">Profit Analysis</a>
      <a href="{% url 'future_predictions' %}" class="hover:underline">Future (30 Days)</a>
      <a href="{% url 'future_box_score' %}" class="hover:underline">Future Profit</a>
    </div>

  </div>
</nav>
<!-- ================= END NAVBAR ================= -->

<!-- ================= CONTENT ================= -->
<div class="container mx-auto px-4 md:px-12 py-8">

  <h1 class="text-4xl md:text-5xl font-bold text-teal-700 mb-3 text-center">
    Raw Data Explorer
  </h1>

  <p class="text-lg text-gray-600 text-center mb-7">
    Showing all details from:
    <span class="text-teal-800 font-semibold">
      {{ file_name|default:"BOX SCORE.xlsx" }}
    </span>
  </p>

  {% if error %}
    <div class="bg-red-100 border border-red-400 text-red-700 p-4 rounded-xl mb-8 text-center glow">
      {{ error }}
    </div>
  {% endif %}

  <!-- TABLE -->
  <div class="bg-white rounded-2xl p-4 shadow-lg glow">
    <div class="table-scroll">
      <table class="w-full text-xs md:text-sm border-collapse">
        <thead>
          <tr>
            {% for col in main_table_cols_range %}
              <th class="px-4 py-3 border border-gray-300 text-left font-semibold uppercase whitespace-nowrap"></th>
            {% endfor %}
          </tr>
        </thead>

        <tbody>
          {% for row in main_table %}
            <tr class="odd:bg-gray-50 even:bg-white">
              {% for cell in row %}
                <td class="border border-gray-200 px-4 py-2 text-gray-700 font-mono whitespace-nowrap">
                  {{ cell }}
                </td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

</div>
<!-- ================= END CONTENT ================= -->

</body>
</html>
